Виникла потреба створити шаблон функції для виведення в потік довільного контейнера. Контейнер вміє надавати ітератори на свій вміст за допомогою методів begin(), end(). Шаблон повинен бути досить інтелектуальним: виведення потрібно оздобити відповідно до контейнера.
Наприклад, перед виведенням вектора (vector) в потоці має з'явитися гасло "*** ВЕКТОР ***", а кожен елемент вектора при виведенні треба обрамляти квадратними дужками: [10] [20] [30]. Якщо вектор порожній, то замість елементів друкують "[ порожній ]" (або "[ empty ]").
Виведення списку (list) мало б виглядати так: "*** Двозв'язний Список *** <10> <20> <30>"
Виведення множини (set) - "*** МНОЖИНА *** {10} {20} {30}"
Словом, є атрибути - гасло і обрамлення, - які залежать від контейнера. Гасло і обрамлення - характеристики контейнера.
Проблема: як їх повідомити шаблонові функції виведення? Перевірки типу в шаблоні - найгірший зі способів, адже неможливо передбачити наперед всі типи, з якими шаблон працюватиме. Не хотілося б робити у шаблоні більше, ніж два параметри. Було б добре, якби атрибути вибиралися автоматично відповідно до заданого контейнера.
